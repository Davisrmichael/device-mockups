<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Mockup Maker v1.1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --gap:20px; --card:#fff; --bg:#e9ecef; --ink:#111; --muted:#777;
      --radius:12px; --shadow:0 8px 24px rgba(0,0,0,.08);
    }
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      display:flex; gap:var(--gap); padding:var(--gap);
    }
    aside{
      width:300px; background:var(--card); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:14px;
      display:flex; flex-direction:column; gap:12px; height:fit-content;
    }
    .stage{
      flex:1; background:var(--card); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:16px; display:grid; place-items:center;
      min-width:760px;
    }
    .stack{ position:relative; width:720px; height:720px; border-radius:10px; overflow:hidden;
      background:#fff; box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
    }
    canvas{ position:absolute; inset:0; width:100%; height:100%; display:block; }
    #bgCanvas{ z-index:1; }
    #threeCanvas{ z-index:2; }
    #hudCanvas{ z-index:3; }

    h1{ font-size:16px; margin:0 0 6px; }
    .row{ display:flex; align-items:center; gap:8px; }
    .note{ color:#777; font-size:12px; }
    button, input[type="file"]{ font:inherit; }
    button{ padding:8px 10px; border-radius:8px; border:1px solid #d6d6d6; background:#fff; cursor:pointer; }
    #msg{ display:none; }
    #msg[data-show="true"]{ display:block; color:#b42318; }
  </style>
</head>
<body>
  <aside>
    <h1>Mockup Maker</h1>

    <div>
      <strong>Screen Texture</strong>
      <div class="row" style="margin-top:6px">
        <input id="file" type="file" accept="image/*" />
        <button id="clear">Clear</button>
      </div>
      <label class="row" style="margin-top:6px">
        <input id="bright" type="checkbox" checked />
        <span>Bright (emissive)</span>
      </label>
      <div class="note">Targets material <b>Screen</b>. Image uses <b>cover</b>, equal X/Y scale, and auto Y‑flip.</div>
    </div>

    <div>
      <strong>Export</strong>
      <div class="row" style="margin-top:6px">
        <button id="export">Export 720×720 PNG</button>
      </div>
      <div class="note">Exports exactly what you see in the 720×720 viewer.</div>
    </div>

    <div id="msg"></div>
  </aside>

  <main class="stage">
    <div class="stack" id="viewer">
      <canvas id="bgCanvas" width="720" height="720"></canvas>
      <canvas id="threeCanvas" width="720" height="720"></canvas>
      <canvas id="hudCanvas" width="720" height="720"></canvas>
    </div>
  </main>

  <script type="module" src="js/app.js"></script>
</body>
</html>
